\documentclass[12pt, titlepage]{article}

\usepackage{amsmath, mathtools}

\usepackage[round]{natbib}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{graphicx}
\usepackage{colortbl}
\usepackage{xr}
\usepackage{hyperref}
\usepackage{longtable}
\usepackage{xfrac}
\usepackage{tabularx}
\usepackage{float}
\usepackage{siunitx}
\usepackage{booktabs}
\usepackage{multirow}
\usepackage[section]{placeins}
\usepackage{caption}
\usepackage{fullpage}

\hypersetup{
bookmarks=true,     % show bookmarks bar?
colorlinks=true,       % false: boxed links; true: colored links
linkcolor=red,          % color of internal links (change box color with linkbordercolor)
citecolor=blue,      % color of links to bibliography
filecolor=magenta,  % color of file links
urlcolor=cyan          % color of external links
}

\usepackage{array}

\externaldocument{../../SRS/SRS}

\input{../../Comments}
\input{../../Common}

\begin{document}

\title{Module Interface Specification for \progname{}} 
\author{\authname}
\date{\today}

\maketitle

\pagenumbering{roman}

\section{Revision History}

\begin{tabularx}{\textwidth}{p{3cm}p{2cm}X}
\toprule {\bf Date} & {\bf Version} & {\bf Notes}\\
\midrule
January 18, 2023 & 1.0 & Everyone - Initial MIS Draft\\
\bottomrule
\end{tabularx}

~\newpage

\section{Symbols, Abbreviations and Acronyms}

See SRS Documentation at \wss{give url}

\wss{Also add any additional symbols, abbreviations or acronyms}

\newpage

\tableofcontents

\newpage

\pagenumbering{arabic}

\section{Introduction}

The following document details the Module Interface Specifications for
OpenASL, a device developed with the aim of translating sign language into text-to-speech, 
with the purpose of helping members of the deaf and mute community communicate with those 
who do not know sign language.\\

Complementary documents include the System Requirement Specifications
and Module Guide.  The full documentation and implementation can be
found at \url{https://github.com/kelhuynh/OpenASL/}.\\

\section{Notation}

\wss{You should describe your notation.  You can use what is below as
  a starting point.}

The structure of the MIS for modules comes from \citet{HoffmanAndStrooper1995},
with the addition that template modules have been adapted from
\cite{GhezziEtAl2003}.  The mathematical notation comes from Chapter 3 of
\citet{HoffmanAndStrooper1995}.  For instance, the symbol := is used for a
multiple assignment statement and conditional rules follow the form $(c_1
\Rightarrow r_1 | c_2 \Rightarrow r_2 | ... | c_n \Rightarrow r_n )$.

The following table summarizes the primitive data types used by \progname. 

\begin{center}
\renewcommand{\arraystretch}{1.2}
\noindent 
\begin{tabular}{l l p{7.5cm}} 
\toprule 
\textbf{Data Type} & \textbf{Notation} & \textbf{Description}\\ 
\midrule
character & char & a single symbol or digit\\
integer & $\mathbb{Z}$ & a number without a fractional component in (-$\infty$, $\infty$) \\
natural number & $\mathbb{N}$ & a number without a fractional component in [1, $\infty$) \\
real & $\mathbb{R}$ & any number in (-$\infty$, $\infty$)\\
\bottomrule
\end{tabular} 
\end{center}

\noindent
The specification of \progname \ uses some derived data types: sequences, strings, and
tuples. Sequences are lists filled with elements of the same data type. Strings
are sequences of characters. Tuples contain a list of values, potentially of
different types. In addition, \progname \ uses functions, which
are defined by the data types of their inputs and outputs. Local functions are
described by giving their type signature followed by their specification.

\section{Module Decomposition}

The following table is taken directly from the Module Guide document for this project.

\begin{table}[h!]
\centering
\begin{tabular}{p{0.3\textwidth} p{0.6\textwidth}}
\toprule
\textbf{Level 1} & \textbf{Level 2}\\
\midrule

{Hardware-Hiding Module} & Video Capture Module \\
\midrule

\multirow{7}{0.3\textwidth}{Behaviour-Hiding Module} & Text-to-Speech Module\\
& Key Point Classification Module - Communicates with ML module with data from coordinate normalization module\\
& Training Module - Communicates with ML module to update dataset\\
& Coordinate Export Module - Read data from video capture and stores into file\\
& Motion Tracking Module - Controller (ties everything together)\\

\midrule

\multirow{3}{0.3\textwidth}{Software Decision Module} & Video Analysis Module - requires data to be used\\
& Machine Learning Module\\
& Coordinate Normalization Module\\
\bottomrule


\end{tabular}
\caption{Module Hierarchy}
\label{TblMH}
\end{table}

\section{Connection Between Requirements and Design} \label{SecConnection}

The design of the system is intended to satisfy the requirements developed in
the SRS. In this stage, the system is decomposed into modules. The connection
between requirements and modules is listed in Table \ref{TblRT}.

\newpage
~\newpage

\section{MIS of Motion Tracking Module (M1)} \label{M1}

\subsection{Module}

motionTrack\\

\subsection{Uses}

Video Capture, Coordinate Normalization, Coordinate Export, Video Analysis, Keypoint Classification, TTS\\

\subsection{Syntax}

\subsubsection{Exported Constants}

\begin{center}
\begin{tabular}{p{2cm} p{4cm} p{4cm} p{2cm}}
\hline
\textbf{Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
\hline
results & image & Object & - \\
hand_landmarks & - & Tuple of tuples & - \\
handedness & - & \mathbb{R} & - \\
\hline
\end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{State Variables}

None\\

\subsubsection{Environment Variables}

f - file variable for coordinate export purposes\\

\subsubsection{Assumptions}

None

\subsubsection{Access Routine Semantics}

\noindent motionTrack():
\begin{itemize}
\item output: video consisting of overlay for hand gesture classification into ASL\\
\item exception: exc := cv2.error\\
\end{itemize}

\newpage
~\newpage

\section{MIS of Coordinate Normalization Module (M2)} \label{M2}

\subsection{Module}

Coordinate Normalization\\

\subsection{Uses}

Video Capture\\

\subsection{Syntax}

\subsubsection{Exported Constants}

\begin{center}
\begin{tabular}{p{2cm} p{4cm} p{4cm} p{2cm}}
\hline
\textbf{Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
\hline
pre_processed_landmark_list & landmark_list & Tuple of tuples & - \\
\hline
\end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{State Variables}

None\\

\subsubsection{Environment Variables}

None\\

\subsubsection{Assumptions}

None

\subsubsection{Access Routine Semantics}

\noindent pre_process_landmark(landmark_list):
\begin{itemize}
\item output: tuple of 20 tuples consisting of x and y coordinates for each hand joint\\
\item exception: exc := ListIndexOutofBounds\\
\end{itemize}

\subsubsection{Local Functions}
\begin{itemize}
\item __calc_landmark_list\\
\end{itemize}

\newpage
~\newpage

\section{MIS of Coordinate Export Module (M3)} \label{M3}

\subsection{Module}

Coordinate Export\\

\subsection{Uses}

Coordinate Normalization\\

\subsection{Syntax}

\subsubsection{Exported Constants}

\begin{center}
\begin{tabular}{p{2cm} p{4cm} p{4cm} p{2cm}}
\hline
\textbf{Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
\hline
keypoint.csv & - & File containing normalized coordinates & - \\
\hline
\end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{State Variables}

None\\

\subsubsection{Environment Variables}

None\\

\subsubsection{Assumptions}

None

\subsubsection{Local Functions}
\begin{itemize}
\item __make_csv\\
\end{itemize}

\newpage
~\newpage

\section{MIS of Video Capture Module (M4)} \label{M4}

\subsection{Module}

Video Capture\\

\subsection{Uses}

None\\

\subsection{Syntax}

\subsubsection{Exported Constants}

\begin{center}
\begin{tabular}{p{2cm} p{4cm} p{4cm} p{2cm}}
\hline
\textbf{Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
\hline
success & - & \mathbb{R} & - \\
image & - & Object & - \\
\hline
\end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{State Variables}

None\\

\subsubsection{Environment Variables}

success - indicates that the camera input is initialized for use\\

\subsubsection{Assumptions}

There is an available camera connected to the system\\

\newpage
~\newpage

\section{MIS of Video Analysis Module (M5)} \label{M5}

\subsection{Module}

Video Analysis\\

\subsection{Uses}

Coordinate Normalization, Video Capture\\

\subsection{Syntax}

\subsubsection{Exported Access Programs}

\begin{center}
\begin{tabular}{p{2cm} p{4cm} p{4cm} p{2cm}}
\hline
\textbf{Name} & \textbf{In} & \textbf{Out} & \textbf{Exceptions} \\
\hline
draw_bounding_rect & - & image & - \\
draw_landmarks & - & image & - \\
draw_info_text & - & image & - \\
\hline
\end{tabular}
\end{center}

\subsection{Semantics}

\subsubsection{State Variables}

None\\

\subsubsection{Environment Variables}

None\\

\subsubsection{Assumptions}

None

\subsubsection{Access Routine Semantics}

\noindent draw_bounding_rect(self, use_brect, image, brect):
\begin{itemize}
\item output: image with overlaid bounding rectangle around hand\\
\item exception: exc := None\\
\end{itemize}

\noindent draw_landmarks(self, image, landmark_point):
\begin{itemize}
\item output: image with overlaid hand joints and connections\\
\item exception: exc := None\\
\end{itemize}

\noindent draw_info_text(self, image, brect, handedness, hand_sign_text):
\begin{itemize}
\item output:  image with overlaid classifier label\\
\item exception: exc := None\\
\end{itemize}

\subsubsection{Local Functions}
\begin{itemize}
\item __calc_bounding_rect\\
\end{itemize}


\newpage

\bibliographystyle {plainnat}
\bibliography {../../../refs/References}

\newpage

\section{Appendix} \label{Appendix}

\wss{Extra information if required}

\end{document}